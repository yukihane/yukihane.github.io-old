<!DOCTYPE html>
<html lang="en"><head>
    





<title>Building Java Project | 発火後忘失</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content='はじめに 他者が作成したプログラムにちょっと変更を加えて使いたい その言語は未経験だけれど、コードの変更自体は検索したり周辺コードのコピペで何と'>
<meta name="keywords" content='java'>
<meta name="msapplication-TileColor" content="#b91d47">
<meta name="theme-color" content="#ffffff">

<link rel="canonical" href="https://yukihane.github.io/posts/201805/19/building-java-project/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#007aa6">
<meta name="theme-color" content="#ffffff">

<meta property="og:title" content="Building Java Project" />
<meta property="og:description" content="はじめに 他者が作成したプログラムにちょっと変更を加えて使いたい その言語は未経験だけれど、コードの変更自体は検索したり周辺コードのコピペで何と" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yukihane.github.io/posts/201805/19/building-java-project/" />
<meta property="article:published_time" content="2018-05-19T19:28:37+00:00" />
<meta property="article:modified_time" content="2018-05-19T19:28:37+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Building Java Project"/>
<meta name="twitter:description" content="はじめに 他者が作成したプログラムにちょっと変更を加えて使いたい その言語は未経験だけれど、コードの変更自体は検索したり周辺コードのコピペで何と"/>

<meta itemprop="name" content="">
<meta itemprop="description" content="">
    
    
    
    
    
    <link rel="stylesheet" href='https://yukihane.github.io/css/style.css'>

    


<link href="https://fonts.googleapis.com/css?family=Hanuman:400,700|Inconsolata|Roboto:400,400i,700,700i&display=swap&subset=khmer" rel="stylesheet">
</head><body><header id="navigation" class="p-navigation">
    <div class="p-navigation__row">
        <div class="p-navigation__banner">
            <div class="p-navigation__logo">
                <a class="p-navigation__link u-vertically-center p-link--logo" href="https://yukihane.github.io/">
                    発火後忘失
                </a>
            </div>
            
            <a href="#navigation" class="p-navigation__toggle--open" title="menu">
                <i class="p-icon--menu"></i>
            </a>
            <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">
                <i class="p-icon--close"></i>
            </a>
        </div>

        <nav class="p-navigation__nav">
            <span class="u-off-screen">
                <a href="#main-content">Jump to main content</a>
            </span>

            <ul class="p-navigation__links" role="menu">
                
            </ul>

            
            <form class="p-search-box" action="https://www.google.com/search" target="_blank">
    <input type="search" class="p-search-box__input" name="q" placeholder='Search'
        required="" aria-label="Query">
    <input type="hidden" name="sitesearch" value="https://yukihane.github.io/">
    <button type="reset" class="p-search-box__reset" alt="reset" aria-label="Reset">
        <i class="p-icon--close"></i>
    </button>
    <button type="submit" class="p-search-box__button" alt="search" aria-label="Search">
        <i class="p-icon--search"></i>
    </button>
</form>
            
        </nav>
    </div>
</header><div id="main-content">
<header class="p-strip page-banner">
    <div class="row">
        <h1>Building Java Project</h1>
    </div>

    

<div class="row">

    
    <div class="col-8">
        




<div class="p-media-object">

    

    <div class="p-media-object__details">

        

        
        <p class="p-media-object__content">
            <span class="u-capitalized">on</span>
            2018-05-19
        </p>
        

    </div>
</div>


    </div>
    

    
    <div class="col-4  col--share-links ">
        <ul class="p-inline-list-icons p-inline-list-icons--share-links u-no-padding--left u-no-margin--left u-unselectable">
    <li class="p-inline-list__item">
        <i class="p-icon--share"></i>
    </li>
    <li class="p-inline-list__item">
        <a class="p-icon--facebook" title='Share on Facebook' target="_blank"
            rel="noreferrer" href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fyukihane.github.io%2fposts%2f201805%2f19%2fbuilding-java-project%2f">
            Facebook
        </a>
    </li>
    <li class="p-inline-list__item">
        <a class="p-icon--twitter" title='Share on Twitter' target="_blank"
            rel="noreferrer" href="http://twitter.com/share?text=Building%20Java%20Project&amp;url=https%3a%2f%2fyukihane.github.io%2fposts%2f201805%2f19%2fbuilding-java-project%2f">
            Twitter
        </a>
    </li>
    <li class="p-inline-list__item">
        <a class="p-icon--linkedin" title='Share on LinkedIn' target="_blank"
            rel="noreferrer"
            href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fyukihane.github.io%2fposts%2f201805%2f19%2fbuilding-java-project%2f&amp;title=Building%20Java%20Project">
            LinkedIn
        </a>
    </li>
</ul>
    </div>
    

</div>




<div class="row">
    <div class="col-12">
        
<a href="https://yukihane.github.io/tags/java/">#java</a>&ensp;

    </div>
</div>

</header>

<section class="p-strip is-shallow">
    <main class="row post-content">
        <h2 id="はじめに">はじめに</h2>
<ul>
<li>他者が作成したプログラムにちょっと変更を加えて使いたい</li>
<li>その言語は未経験だけれど、コードの変更自体は検索したり周辺コードのコピペで何とかなりそう</li>
<li>しかし、変更したコードをどうやってビルドすれば良いんだ…？</li>
</ul>
<p>なんてことがたまにあります。
そんな時に参考になるようなドキュメントを目指して記述しました。</p>
<h2 id="プロジェクトの構造を確認する">プロジェクトの構造を確認する</h2>
<p>ビルドするソースコード一式を取得したら、ディレクトリ構成を確認します。
プロジェクトルートディレクトリに <code>pom.xml</code> というファイルがあれば本ドキュメントが対象としている Java プロジェクトです。</p>
<pre><code>an-app
├── pom.xml
└── src
    ├── main
    │   ├── java
    │   │   └── (ディレクトリ階層とJavaソースコード)
    │   └── resources
    │       └── (ディレクトリ階層とリソースファイル)
    └── test
        ├── java
        │   └── ...
        └── resources
            └── ...
</code></pre><p>複数のモジュールで構成されている場合は次のように入れ子になっている場合もあります:</p>
<pre><code>an-app-parent
├── an-app-core
│   ├── pom.xml
│   └── src
│       └── ...
├── an-app-lib
│   ├── pom.xml
│   └── src
│       └── ...
└── pom.xml
</code></pre><p>この場合、それぞれのディレクトリが<code>pom.xml</code>を持ちます。</p>
<p><code>pom.xml</code> は プロジェクト構造を記述するファイルで、<a href="https://ja.wikipedia.org/wiki/Apache_Maven">Apache Maven</a> が使用します。</p>
<p>Java では Maven 以外にも同じようにプロジェクト構造を管理するアプリケーションがあります。それぞれルートディレクトリに固有のファイルやディレクトリを作成しますので、そのファイル/ディレクトリを見れば何でプロジェクトが管理されているか分かる、ということになります。
本ドキュメントの対象外ですが、一例を示します。</p>
<table>
<thead>
<tr>
<th>ファイル</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>build.gradle</td>
<td><a href="https://ja.wikipedia.org/wiki/Gradle">Gradle</a>管理プロジェクト。Android プログラムの標準はこれ。</td>
</tr>
<tr>
<td>build.xml</td>
<td><a href="https://ja.wikipedia.org/wiki/Apache_Ant">Apache Ant</a>管理プロジェクト。Maven が主流になる前のデファクトスタンダード。歴史のあるプロダクトでまだ利用されていることも。</td>
</tr>
</tbody>
</table>
<h2 id="ビルドに必要なアプリケーションをインストールする">ビルドに必要なアプリケーションをインストールする</h2>
<h3 id="必要な-java-バージョンを調べる">必要な Java バージョンを調べる</h3>
<p>ビルドに必要な Java のバージョンを調べておきます。
基本的には実行環境と同じバージョンでビルドすれば良いはずなので、エンドユーザ向けドキュメントが付属しているのであれば、そこに必要とする Java のバージョンが書かれているでしょう。
あるいは、ルートディレクトリにある<code>pom.xml</code>を開き、次の項目の値を調べてみても良いでしょう。通常、どちらか一方にコンパイルに使用する Java のバージョンが記載されています(<a href="https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html">参考</a>)。</p>
<ul>
<li><code>project</code> &gt; <code>properties</code> &gt; <code>maven.compiler.source</code></li>
<li><code>maven-compiler-plugin</code> という単語を検索し、その下に書かれている <code>configuration</code> &gt; <code>source</code></li>
</ul>
<p>なお、 <em>Java5</em> から <em>Java8</em> までは、 <em>Java<code>n</code></em> と <em>Java<code>1.n</code></em> というのは同じものを指します( <em>Java8</em> = <em>Java1.8</em> )。
バージョン 9 以降は、単に <em>Java9</em> , <em>Java10</em> と言い、 <em>Java1.9</em> や <em>Java1.10</em> という呼び方はしません。</p>
<h4 id="バージョンが分からなかったら">バージョンが分からなかったら？</h4>
<p>取り敢えず、現時点では 1.8 を利用することにしておけば問題が起こりにくいでしょう。
1.8 までは概ね後方互換性を保っていますが、9 以降はコンパイルオプションが変わったりしており、必ずしも過去に作成したソースがそのまま通るとは限りません。</p>
<h3 id="アプリケーションのダウンロードしインストールする">アプリケーションのダウンロードしインストールする</h3>
<p>次の通り、JDK 及び Maven をダウンロードし、インストールします。</p>
<h4 id="jdk">JDK</h4>
<p>上で確認したバージョンの JDK をインストールします。
Linux であればパッケージマネージャから OpenJDK がインストールできるでしょう。
Windows であれば Oracle のサイトから OracleJDK インストーラをダウンロードするのが簡単でしょう。
OpenJDK/OracleJDK どちらの実装でも大抵は問題ないはずですが、保守的に行くのであれば OracleJDK をインストールする方が無難と言えます。</p>
<p>OracleJDK は次の URL からダウンロードできます。</p>
<ul>
<li><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></li>
</ul>
<p>古いバージョンが必要な場合は、このページの下の方にあるリンク、&quot;<a href="http://www.oracle.com/technetwork/java/javase/archive-139210.html">Java Archive</a>&ldquo;をたどります。</p>
<p>ダウンロードするのは JRE ではなく<strong>JDK</strong>です。これは OpenJDK を導入する場合も同様です。
JRE は実行環境のみで、コンパイラなどを含んでいません。</p>
<h4 id="apache-maven">Apache Maven</h4>
<p>次の URL から最新版(本ドキュメント記載時点で <strong>3.5.3</strong> )をダウンロードし、適当な場所に展開します。Linux であればパッケージマネージャからインストールできるかもしれませんが、バージョンが古い場合もありますので注意してください。</p>
<ul>
<li><a href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a></li>
</ul>
<p><code>bin</code>ディレクトリに<code>PATH</code>を通しておきましょう。</p>
<h4 id="環境変数設定必須ではない">環境変数設定(必須ではない)</h4>
<p>モノによっては次の環境変数を要求するものもあります。何かそれっぽいエラーが出たら本節を思い出して設定してみてください。
具体的な設定値については検索してください。</p>
<table>
<thead>
<tr>
<th>環境変数名</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>JAVA_HOME</code></td>
<td>Java インストール場所を設定する</td>
</tr>
<tr>
<td><code>M2_HOME</code></td>
<td>Maven インストール場所を設定する(最新版を使用していれば<a href="https://issues.apache.org/jira/browse/MNG-5607">これを要求されることはない</a>はずですが)</td>
</tr>
</tbody>
</table>
<h2 id="ビルドする">ビルドする</h2>
<p>プロジェクトルートディレクトリで次のコマンドを実行します。</p>
<pre><code>mvn -Dmaven.test.skip clean package
</code></pre><p>ビルドが成功すると、<code>target</code>ディレクトリ直下に所望のファイルが生成されているはずです。</p>
<p>以上です。おつかれさまでした。</p>
<h2 id="アンインストールする">アンインストールする</h2>
<p>行いたい作業を終えたら、環境をクリーンアップします。
能動的に行ったこと以外で変わっていることとしては、ホームディレクトリに Maven のキャッシュディレクトリ <code>.m2</code> ができていますので、これを削除するのを忘れずに。</p>
<h2 id="その他情報">その他情報</h2>
<h3 id="ideeclipseを使用する">IDE(Eclipse)を使用する</h3>
<p>ソースコードを改変しようとした場合、あまり慣れていない言語なのでコード補完が欲しくなります。
そこで Eclipse の導入手順についても触れておきます。</p>
<h4 id="ダウンロードとインストール">ダウンロードとインストール</h4>
<p>次のページの <strong>Eclipse IDE for Java Developers</strong> をダウンロードし適当な場所に展開します。</p>
<ul>
<li><a href="http://www.eclipse.org/downloads/eclipse-packages/">http://www.eclipse.org/downloads/eclipse-packages/</a></li>
</ul>
<p>展開したディレクトリの<code>eclipe</code>コマンド(Windows は<code>eclipse.exe</code>かも？)で起動できます。</p>
<h4 id="補完ショートカットキーの確認変更">補完ショートカットキーの確認/変更</h4>
<p><code>Preferences</code>メニュー(Ubuntu の場合 <code>Window</code> &gt; <code>Preferences</code> )を選択します。
開かれたダイアログのツリーメニューで <code>General</code> &gt; <code>Keys</code> を選択し、 <strong>Content Assist</strong> コマンドを検索しましょう。ここで設定されている<strong>Binding</strong>が補完ショートカットキーです。</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/85594/a9d58752-5f41-3efa-1ccb-f25375bb01da.png" alt="eclipse-contentassist.png"></p>
<h4 id="プロジェクトのインポート">プロジェクトのインポート</h4>
<p>メニューで <code>File</code> &gt; <code>Import</code> を選択し、ダイアログのツリーメニューで <code>Maven</code> &gt; <code>Existing Maven Projects</code>を選択します。その後、編集対象のディレクトリを指定すれば完了です。</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/85594/3e95cb2a-b908-79de-bfca-67aef7b7e9f4.png" alt="eclipse-import.png"></p>
<h2 id="おわりに">おわりに</h2>
<p>実は私はこれから C#を学ぼうと思っています。
そんな状況で、こういうドキュメントが有れば良いのに、というのが思い浮かんだので自分がよく知っている言語である Java 版を作成してみました。</p>
<p>だれか C#版をください…</p>

    </main>
</section>

<footer class="p-strip is-wrapper">
    <div class="row">
        <div class="p-article-pagination">
    
    <a class="p-article-pagination__link--previous" href="https://yukihane.github.io/posts/201805/09/yaml/">
        <span class="p-article-pagination__label">Previous</span>
        <span class="p-article-pagination__title">
            yamlの継承っぽいのは継承というよりハッシュのマージ
        </span>
    </a>
    

    
    <a class="p-article-pagination__link--next" href="https://yukihane.github.io/posts/201807/07/jsf-on-tomcat/">
        <span class="p-article-pagination__label">Next</span>
        <span class="p-article-pagination__title">
            Tomcat上でJSF実現
        </span>
    </a>
    
</div>
    </div>
</footer>

        </div><footer class="p-strip is-shallow page-footer">
    <div class="row">
        <div class="col-12  u-align--center">
            <p>
                © 2020 発火後忘失
            </p>
        </div>
    </div>
</footer>




</body>
</html>
